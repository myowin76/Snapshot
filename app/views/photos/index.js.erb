// $("#map-view").html("<%= j render("map_view") %>");

// 	Gmaps.map = new Gmaps4RailsGoogle();
// 	Gmaps.load_map = function() {
//     Gmaps.map.map_options.maxZoom = 20;
//     Gmaps.map.map_options.clusterer_gridSize = 100;
//     Gmaps.map.initialize();
//     Gmaps.map.markers = <%=raw @json %>;
//     Gmaps.map.create_markers();
//     Gmaps.map.adjustMapToBounds();
//     Gmaps.map.callback();
// 	};
// 	Gmaps.loadMaps();

// $(".loader_cont").show();
// $("aside h4").html("<%= @photos.count %> photos found");

// // $(".span8 h4").html("<%= @photos.count %> photos found");
// $("#list-view").html("<%= j render("list_view") %>");

// $(".loader_cont").hide();

$(".photo-view").html("<%= j render('grid_view') %>");


// duplicate in the application.js

$('#export-pdf').on('click',function(){
  checkbox_array = $("input[name='photo_ids[]']:checked").serializeObject()['photo_ids[]'];
  if (checkbox_array == undefined) {
    alert("Please select the image");
    return false;
  }
  else{
    url = '/photos/generate_pdf.pdf?photo_ids=' + checkbox_array;
    $(this).attr('href', url);
  }  
});

$('#export-zip').on('click', function(e){
  checkbox_array = $("input[name='photo_ids[]']:checked").serializeObject()['photo_ids[]'];
  if (checkbox_array == undefined) {
    alert("Please select the image");
    return false;
  };
  url = '/photos/generate_zip?photo_ids=' + checkbox_array;
  $(this).attr('href', url);
});